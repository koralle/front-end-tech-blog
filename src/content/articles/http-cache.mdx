---
title: HTTPにおけるキャッシュについて勉強したことをメモる
category: HTTP
tags:
  - HTTP
  - Web
publishedDate: 2024-11-22
lastUpdatedDate: 2024-11-25
---

import { LinkPreview } from '@astro-community/astro-embed-link-preview'

## Motivation

キャッシュについてちゃんと理解するのはフロントエンドの人間にとって必要不可欠だと思う。正直。

## キャッシュって何だっけ

まず、「キャッシュする」とは一体どういうプロセスなのか考える。Cloudflareのドキュメントにいいことが書いてある。

<LinkPreview id='https://www.cloudflare.com/learning/cdn/what-is-caching/' />

これを読む限り、HTTPにおける「キャッシュする」とは、HTTPリクエストに紐づくレスポンスのデータをどこか一時的に保存しておいて、似た様なHTTPリクエストがあった時にそのデータを使い回すプロセスを指すことが分かる。
この時に使い回すデータ（ファイルを含む）を**キャッシュ**と呼ぶ。

## キャッシュは何が嬉しいんだっけ

## キャッシュの種類

キャッシュはプライベートキャッシュと共有キャッシュの2種類に大別することができる。

### プライベートキャッシュ

### 共有キャッシュ

## If-Modified-Since

HTTP/1.0の時代から存在するHTTPヘッダー。

<LinkPreview id='https://developer.mozilla.org/ja/docs/Web/HTTP/Headers/If-Modified-Since' />

`If-Modified-Since` ヘッダーで指定された時刻以降にリソースが変更されていれば、新しいリソースを `200` のステータスコードと共に返す。

そうでない場合ステータスコードは `304` とし、**レスポンスに本文は含めない**。

また、このヘッダーに詰める時刻のタイムゾーンは `GMT` にしないといけないところは注意が必要。

## Expires

## ETag

## Cache-Control

## stale-while-revalidate

<LinkPreview id='https://web.dev/articles/stale-while-revalidate?hl=ja' />

## Vary

## 参考リンク

<LinkPreview id='https://developer.mozilla.org/ja/docs/Web/HTTP/Caching' />
